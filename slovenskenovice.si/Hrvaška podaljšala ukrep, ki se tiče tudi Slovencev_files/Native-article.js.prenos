(function(q){function w(b){var a;"horizontal"==b.orientation?(a=(b.width-5*(b.adUnitNum+1)-2)/b.adUnitNum,b=b.height-12):(a=b.width-12,b=(b.height-5*(b.adUnitNum+1)-2)/b.adUnitNum);return{width:a,height:b}}function x(b){var a=document.createElement("div");a.className="iprom-native-ad-container iprom-native-"+b.width+"x"+b.height;a.style.border="1px solid grey";a.style.position="relative";a.style.padding="2.5px";a.style.fontSize=b.fontSize+"px";a.style.boxSizing="border-box";a.style.width=b.width+
"px";a.style.height=b.height+"px";a.style.backgroundColor="#fff";return a}function y(b,a){var c=document.createElement("iframe");c.setAttribute("allowfullscreen","");c.setAttribute("frameborder","0");c.setAttribute("scrolling","no");c.style.display="inline-block";b.appendChild(c);var d=c.contentDocument||c.contentWindow.document;d.open();d.write('<!DOCTYPE html><html><head><meta charset="utf-8"/></head><body style="margin: 0;"></body></html>');d.body.appendChild(a);d.close();return c}var u={"970x250":{orientation:"horizontal",adUnitNum:4,width:970,height:250,adUnitOrientation:"vertical",fontSize:15},"728x90":{orientation:"horizontal",adUnitNum:3,width:728,height:90,adUnitOrientation:"horizontal",fontSize:11},"160x600":{orientation:"vertical",adUnitNum:3,width:160,height:600,adUnitOrientation:"vertical",fontSize:14},"300x250":{orientation:"vertical",adUnitNum:3,width:300,height:250,adUnitOrientation:"horizontal",fontSize:12},"300x600":{orientation:"vertical",adUnitNum:6,width:300,height:600,adUnitOrientation:"horizontal",fontSize:13}},h=null,g=null;q._loadIpromNativeAdContainer=function(b,a){console.log(g,g.children.length);var c=[],d=u[h.dimension],p=w(d),r=x(d),t;a.zoneAds[709].forEach(function(a,b){var g=a.ad_settings,e=document.createElement("div"),f=document.createElement("a"),k=document.createElement("div"),l=document.createElement("div"),h=document.createElement("img"),m=document.createElement("span"),n=document.createElement("p");e.appendChild(f);f.appendChild(k);f.appendChild(l);k.appendChild(h);l.appendChild(m);l.appendChild(n);f.style.position="absolute";f.style.top=f.style.left=0;f.style.width=f.style.height="100%";e.style.width=p.width+"px";e.style.height=p.height+"px";e.style.margin="2.5px";e.style["float"]="left";e.style.boxSizing="border-box";e.style.overflow="hidden";e.style.cursor="pointer";e.style.position="relative";e.style.textAlign="left";l.className="iprom-native-ad-text-container";k.className="iprom-native-ad-image-container";e.className="iprom-native-ad-unit";f.href=a.tracking_links.c;f.target="_blank";h.src=g.image||g.creatives.square.src;h.style.border="none";m.textContent=g.title_short;n.textContent=g.text;f.style.textDecoration="none";f.style.color="inherit";m.style.fontWeight="bold";n.style.margin="5px 0 0 0";n.style.textAlign=m.style.textAlign="left";m.className="iprom-native-ad-label";n.className="iprom-native-ad-text";"horizontal"==d.adUnitOrientation?(k.style.height="100%",k.style["float"]="left",l.style.overflow="hidden",l.style.paddingLeft="4px",k.style.width=1.6*p.height+"px"):(k.style.height=p.width/1.6+"px",k.style.marginBottom="1px");h.style.width="100%";k.style.overflow="hidden";t=e;c.push({ele:t,wasVisible:!1,logSettings:a.tracking_links,impressionLink:a.logImpression});r.appendChild(t)});var v=y(g,r);v.style.width=d.width+"px";v.style.height=d.height+"px";c.forEach(function(a){q.document.createElement("img").src=a.logSettings.i});"function"==typeof h.effect&&h.effect.call(r)};q._ipromNativeAd=function(b,a,c){h=a;g=c;if(0==g.children.length){c={time:(new Date).getTime(),sitePath:[a.nativeCallParams.mid],zones:[],callback:"_loadIpromNativeAdContainer",referer:encodeURIComponent(window.location.href)};a.nativeCallParams.sid&&c.sitePath.push(a.nativeCallParams.sid);a.nativeCallParams.ssid&&c.sitePath.push(a.nativeCallParams.ssid);for(var d=0;d<u[a.dimension].adUnitNum;d++)c.zones.push(709);c.sitePath=JSON.stringify(c.sitePath);c.zones=JSON.stringify(c.zones);c.uniqueAds=!0;a=document.createElement("script");a.src="https://core.iprom.net/impression?"+ipromNS.Utils.makeQueryString(c);b.document.body.appendChild(a)}}})(window);