ipromNS.Utils.VideoPlayer=function(J,P,E){var K,u;function c(a){var b={};b.el=a;b.css=function(a){b.el&&v.setStyle(b.el,a)};b.remove=function(){v.removeElement(b.el)};b.hide=function(){b.el&&v.setStyle(b.el,{display:"none"})};b.show=function(){b.el&&v.setStyle(b.el,{display:"block"})};b.find=function(a){return c(b.el.querySelector(a))};b.html=function(a){b.el.innerHTML=a};b.attr=function(a,d){if("undefined"==typeof d)return b.el.getAttribute(a);b.el.setAttribute(a,d)};return b}function q(a,b){var c=
{};c[a]=b;v.logEvent(E.e,c)}function Q(){n.mobilecheck=function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a};/iPhone/i.test(navigator.userAgent);/iPad/i.test(navigator.userAgent);/iPod/i.test(navigator.userAgent);(function(){var a=navigator.userAgent.match(/OS (\d+)_/i);return a&&a[1]?a[1]:0})();K=/Android/i.test(navigator.userAgent);(function(){var a=navigator.userAgent.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),b,c;if(!a)return null;b=a[1]&&parseFloat(a[1]);c=a[2]&&parseFloat(a[2]);return b&&c?parseFloat(a[1]+"."+a[2]):b?b:null})();K&&/webkit/i.test(navigator.userAgent);/Firefox/i.test(navigator.userAgent);
/Chrome/i.test(navigator.userAgent);/MSIE\s8\.0/.test(navigator.userAgent);u=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}function R(a){for(var b=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],c=b[0],e=null,f=1;f<b.length;f++)if(b[f][1]in a){e=b[f];break}if(e)for(x={},a=0;a<e.length;a++)x[c[a]]=e[a]}function N(){r&&r.querySelector(".controlProgress")&&v.setStyle(r.querySelector(".controlProgress"),{height:a.controlsOptions.progressHeight,
bottom:"initial",width:"96%",margin:"0 2%"});r.querySelector(".controlButtons")&&(r.querySelector(".controlButtons").style.display="block");g.hideInterval&&(clearTimeout(g.hideInterval),g.hideInterval=null)}function L(){g.hideInterval=setTimeout(function(){try{r.querySelector(".controlButtons")&&(r.querySelector(".controlButtons").style.display="none");var d=Math.min(2,a.controlsOptions.size/3);c(r).find(".controlProgress").css({height:d,top:"",bottom:0,width:"100%",margin:0})}catch(b){console.log(b)}},
1E3*a.controlsOptions.hideAfter)}function S(){var d=document.createElement("div");ipromNS.Utils.resetStyle(d);try{d.classList.add("iprom-html5-player")}catch(b){d.setAttribute("class","iprom-html5-player")}c(d).css({width:a.startFullScreen||a.fluidFullScreen?"100%":a.width,height:a.startFullScreen||a.fluidFullScreen?"100%":a.height,backgroundColor:a.style.background,position:a.startFullScreen||a.fluidFullScreen?"fixed":"static",overflow:"hidden",textAlign:"left",boxSizing:"content-box",top:0,left:0,
cursor:"pointer"});ipromNS.Utils.bindEvents(d,{mouseenter:function(){a.mouseoverStart&&!h.play&&(z()?f.play():n.play());a.sound.mouseover&&!h.mute&&(p=!0,n.unmute())},mouseleave:function(){a.sound.mouseover&&!h.unmute&&(p=!0,n.mute())}});return d}function T(d){var b=document.createElement("img");"undefined"!=typeof a.splash&&a.splash&&"undefined"!=a.splash||(a.splash="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7");b.setAttribute("src",a.splash);ipromNS.Utils.bindEvent(b,
"click",function(){G(a.clickThrough||E.c)});var e=setInterval(function(){30<b.width&&30<b.height&&(clearInterval(e),c(b).css({width:"100%",height:"auto",position:"absolute",marginTop:(a.height-b.height/b.width*a.width)/2,zIndex:99,cursor:"pointer",top:0}),d.appendChild(b))},100);return b}function U(d){var b=document.createElement("div");a.bigPlay||(H.bigPlay='<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7">');ipromNS.Utils.resetStyle(b);c(b).html(H.bigPlay.replace(/\[buttonSize\]/g,
"12%").replace(/\[buttonColor\]/g,a.controlsOptions.colorHover));c(b).css({width:"100%",height:"100%",position:"absolute",background:"rgba(0,0,0,0.3)",border:"none",zIndex:999,cursor:"pointer",display:"none",textAlign:"center"});ipromNS.Utils.bindEvents(b,{mouseover:function(){c(this).css({background:"rgba(0,0,0,0.5)"});c(this).find("path").attr("fill",a.controlsOptions.color)},mouseout:function(){c(this).css({background:"rgba(0,0,0,0.3)"});c(this).find("path").attr("fill",a.controlsOptions.colorHover)},
click:function(a){z()?f.play():n.play();a.preventDefault();return!1}});d.appendChild(b);return b}function V(d){var b=document.createElement("video");b.setAttribute("width","100%");b.setAttribute("height","100%");b.setAttribute("class","ipromVideoTag");b.setAttribute("webkit-playsinline","webkit-playsinline");b.setAttribute("playsinline","");b.playsinline=!0;n.mobilecheck()&&!1!==a.autoplay&&(b.setAttribute("muted",""),b.setAttribute("autoplay",""));var F=document.createElement("source");F.setAttribute("src",
a.video);F.setAttribute("type","video/mp4");var l=document.createElement("source");l.setAttribute("src",a.video.replace(/mp4$/,"webm"));l.setAttribute("type","video/webm");var m=document.createElement("source");m.setAttribute("src",a.video.replace(/mp4$/,"ogv"));m.setAttribute("type","video/ogg");b.appendChild(F);b.appendChild(l);b.appendChild(m);F=document.createTextNode("No video ...");b.appendChild(F);b.controls=0;try{b.volume=a.sound.volume/100}catch(u){}c(b).css({position:"absolute",top:0,left:0,
height:"inherit","background-color":"#000"});ipromNS.Utils.bindEvents(b,{loadeddata:function(){O()},progress:function(){O()},play:function(){n.play()},pause:function(a){n.pause(!0===a)},ended:function(){q("videoend",a.logOptions.name);h.q4||q("100%",a.logOptions.name);h.q4=!0;"function"==typeof a.playerEvents.videoend&&a.playerEvents.videoend.call();a.loop?(p=!0,f.play()):(c(t).remove(),t=M(g),h.isPlaying=!1,p=h.videoEnd=!0,a.startFullScreen||n.contract(),c(C).show(),c(t).show(),c(r).hide(),c(y).hide())},
click:function(){G(a.clickThrough||E.c);a.stopAfterClick&&a.controls.play&&b.pause();q(D?"fullscreen click":"click",a.logOptions.name)},contextmenu:function(a){a.preventDefault()},timeupdate:function(){var b=Math.round(f.currentTime);c(k.bar).css({width:b/f.duration*100+"%"});"function"==typeof a.playerEvents["after"+b+"s"]&&(a.playerEvents["after"+b+"s"](),a.playerEvents["after"+b+"s"]=!1);!h.q1&&.25<=b/f.duration?(q("25%",a.logOptions.name),h.q1=!0):!h.q2&&.5<=b/f.duration?(q("50%",a.logOptions.name),
h.q2=!0):!h.q3&&.75<=b/f.duration&&(q("75%",a.logOptions.name),h.q3=!0);.98<=b/f.duration&&"function"==typeof a.playerEvents.beforeEnd&&(a.playerEvents.beforeEnd(),a.playerEvents.beforeEnd=!1);a.controls.progressTime&&e.progressTime.querySelector(".ip-timeCurrent")&&(e.progressTime.querySelector(".ip-timeCurrent").innerHTML=I(b));a.vast&&"undefined"!=typeof a.vast[b]&&!a.vast[b].handled&&(a.vast[b].handled=!0,handleVast(a.vast[b]));"function"==typeof updateVideoProgress&&updateVideoProgress(b)}});
d.appendChild(b);return b}function W(d){var b=document.createElement("div");c(b).attr("btnType",d);c(b).html(H[d].replace(/\[buttonSize\]/g,a.controlsOptions.size).replace(/\[buttonColor\]/g,a.controlsOptions.color));b.setAttribute("title",a.controlsOptions.titles[d]);c(b).css({"float":"left",width:a.controlsOptions.size,height:a.controlsOptions.size,paddingTop:a.controlsOptions.size/4,paddingBottom:a.controlsOptions.size/4,paddingLeft:2*a.controlsOptions.size/5,paddingRight:2*a.controlsOptions.size/
5,cursor:"pointer",boxSizing:"content-box"});return b}function X(d){var b=document.createElement("div");c(b).html('<span class="ip-timeCurrent" style="display:none">'+I(0)+'</span><span class="ip-timeSeparator" style="display:none"> / </span><span class="ip-timeDuration" style="display:none">'+I(0)+'</span><span class="ip-buffering">'+(d?d:"buffering ...")+"</span>");c(b).css({"float":"left",height:a.controlsOptions.size,paddingLeft:2*a.controlsOptions.size/5,paddingRight:2*a.controlsOptions.size/
5,paddingTop:2*a.controlsOptions.size/5,color:a.controlsOptions.color,font:"bold "+a.controlsOptions.size/2+"px Verdana,Arial,sans-serif",boxSizing:"content-box"});return b}function Y(d){var b=document.createElement("div");if("undefined"==typeof d||"false"==d||!1===d||!0===d)d="";b.innerHTML=d;c(b).css({"float":"right",marginRight:a.controls.fullscreen?7*a.controlsOptions.size/5:0,height:a.controlsOptions.size,paddingLeft:2*a.controlsOptions.size/5,paddingRight:2*a.controlsOptions.size/5,paddingTop:2*
a.controlsOptions.size/5,color:a.controlsOptions.color,font:"bold "+a.controlsOptions.size/2+"px Verdana ,sans-serif",boxSizing:"content-box",cursor:"pointer"});ipromNS.Utils.bindEvents(b,{click:function(){G(a.clickThrough||E.c)}});return b}function Z(d){if(0==a.controls)return!1;var b=document.createElement("div"),g=0;b.className="iprom-video-controls";for(var l in a.controls)a.controls.hasOwnProperty(l)&&"progress"!=l&&a.controls[l]&&(g++,"progressTime"==l?e[l]=X("buffering ..."):"infoText"==l?
e[l]=Y(a.infoText):(e[l]=W(l),"fullscreen"!=l&&"contract"!=l||c(e[l]).css({position:"absolute",top:0,right:0}),ipromNS.Utils.bindEvents(e[l],{mouseover:function(){c(this).find("path").attr("fill",a.controlsOptions.colorHover)},mouseout:function(){c(this).find("path").attr("fill",a.controlsOptions.color)},click:function(){h[c(this).attr("btnType")]=!0;"function"==typeof f[c(this).attr("btnType")]?f[c(this).attr("btnType")].apply(f):n[c(this).attr("btnType")].call(this,!0)}})));a.controls.progress&&
aa(b);if(g){e.holder=document.createElement("div");u||(e.holder.style.display="none");try{e.holder.classList.add("controlButtons")}catch(m){e.holder.setAttribute("class","controlButtons")}b.appendChild(e.holder);a.controls.play&&e.holder.appendChild(e.play);a.controls.pause&&(e.holder.appendChild(e.pause),c(e.pause).hide());a.controls.mute&&e.holder.appendChild(e.mute);a.controls.unmute&&e.holder.appendChild(e.unmute);a.controls.progressTime&&e.holder.appendChild(e.progressTime);a.controls.infoText&&
e.holder.appendChild(e.infoText);a.controls.fullscreen&&e.holder.appendChild(e.fullscreen);a.controls.contract&&(e.holder.appendChild(e.contract),c(e.contract).hide())}c(b).css({width:"100%",position:"absolute",bottom:0,zIndex:100,boxSizing:"content-box",cursor:"default"});b.style.transition="opacity .3s";d.appendChild(b);return b}function aa(d){k.holder=document.createElement("div");try{k.holder.classList.add("controlProgress")}catch(b){k.holder.setAttribute("class","controlProgress")}d.appendChild(k.holder);
k.bar=document.createElement("div");k.holder.appendChild(k.bar);k.button=document.createElement("div");k.holder.appendChild(k.button);c(k.holder).css({width:"96%",margin:"0 2%",height:a.controlsOptions.progressHeight,background:"rgba(255,255,255,.6)",position:"absolute"});c(k.bar).css({margin:"0",width:"0%",height:"100%",background:a.controlsOptions.seekable?"#1852B3":"#CCCCCC",boxShadow:"2px 0px 1px 0px "+(a.controlsOptions.seekable?"#1852B3":"#CCCCCC")});c(k.button).css({width:2,height:a.controlsOptions.size/
2,background:"#d7d093",position:"absolute",top:-a.controlsOptions.size/6,display:"none"});a.controlsOptions.seekable&&v.bindEvents(k.holder,{mouseenter:function(){c(k.button).show()},mouseleave:function(){c(k.button).hide()},click:function(a){f.currentTime=(a.clientX-A)/k.holder.offsetWidth*f.duration;k&&c(k).css({width:f.currentTime/f.duration*100+"%"})},mousemove:function(a){if(null===A){var b=k.holder,d;b.getBoundingClientRect&&b.parentNode&&(d=b.getBoundingClientRect());d?(b=document.body,A=d.left+
(window.pageXOffset||b.scrollLeft)-(document.documentElement.clientLeft||b.clientLeft||0)):A=0}d=(a.clientX-A)/k.holder.offsetWidth*f.duration;c(k.button).css({left:a.clientX-A});c(k.button).html("<span style='text-shadow:1px 1px 1px rgba(0, 0, 0, 0.6);font-family:Verdana,Arial,sans-serif;position: absolute; top:-15px;color:white;width: 50px;margin-left:-25px;text-align:center;font-size:10px;font-weight: bold;'>"+I(d)+"</span>")}})}function M(d,b){var e=0,l=g.offsetHeight/5;Number.isNaN(l)&&(l=80);
a.buttonsOptions.size=Math.min(80,l);for(var m in a.buttons)a.buttons.hasOwnProperty(m)&&!1!==a.buttons[m]&&(e++,w[m]=document.createElement("div"),c(w[m]).attr("btnType",m),l="","undefiend"!=typeof H[m]&&(l=H[m]),"object"==typeof a.buttons[m]&&a.buttons[m].icon&&(l=a.buttons[m].icon),c(w[m]).html(l.replace(/\[buttonSize\]/g,a.buttonsOptions.size).replace(/\[buttonColor\]/g,a.buttonsOptions.color)),c(w[m]).css({"float":"left",cursor:"pointer",width:a.buttonsOptions.size+"px",height:a.buttonsOptions.size+
"px",padding:a.buttonsOptions.size/2+"px",boxSizing:"content-box"}),ipromNS.Utils.bindEvents(w[m],{mouseover:function(){c(this).find("path").attr("fill",a.buttonsOptions.colorHover)},mouseout:function(){c(this).find("path").attr("fill",a.buttonsOptions.color)},click:function(b){b=c(this).attr("btnType");if("replay"==b)t&&c(t).remove(),p=!0,f.play(),q("replay",a.logOptions.name),h.replay=!0,"function"==typeof updateVideoProgress&&updateVideoProgress(0),"function"==typeof a.playerEvents.replay&&a.playerEvents.replay.call();
else if("landing"==b)G(a.clickThrough||E.c),q("endClick",a.logOptions.name);else if("undefined"!=typeof a.buttons[b]){var d="";"string"==typeof a.buttons[b]?d=a.buttons[b]:a.buttons[b].link&&(d=a.buttons[b].link);G(d);q(b,a.logOptions.name)}}}));m=document.createElement("div");d.appendChild(m);c(m).css({top:0,position:"absolute",zIndex:999,background:"rgba(0,0,0,0.7)",display:!h.isPlaying&&h.start?"":"none"});for(var k in w)w.hasOwnProperty(k)&&null!=w[k]&&m.appendChild(w[k]);try{c(m).css({top:(g.offsetHeight-
2*a.buttonsOptions.size)/2,left:(g.offsetWidth-2*a.buttonsOptions.size*e)/2})}catch(n){}e=document.createElement("div");e.innerHTML=a.infoText||"iPROM Video";c(e).css({height:a.controlsOptions.size,font:"normal "+a.controlsOptions.size/2+"px Verdana ,sans-serif",boxSizing:"content-box",cursor:"pointer",textAlign:"center",color:"#fff",position:"absolute",width:"100%"});m.appendChild(e);return m}function ba(){B=document.createElement("div");a.ipromText.text&&"false"!=a.ipromText.text&&"boolean"!=typeof a.ipromText.text||
(a.ipromText.text="");c(B).html("<a target='_blank' title='iPROM video oglasi' href='"+a.ipromText.url+"'>"+a.ipromText.text+"</a>");c(B).css({zIndex:9999,top:0,right:0,position:"absolute",font:"bold "+a.controlsOptions.size/2+"px Verdana,Arial,sans-serif",opacity:.7,padding:5});c(B).find("a").css({textDecoration:"none",color:"#FFFFFF",textShadow:"1px 1px 0 rgba(0,0,0,0.5)"});a.ipromText.skippable&&(c(B).css({background:"#141414",borderRadius:"0 0 0 6px"}),c(B).find("a").click(function(c){c.preventDefault();
a.playerEvents.videoend()}));g.appendChild(B)}function z(){return!!document.createElement("video").canPlayType&&!a.video.match(/\.flv$/)}function I(a){if(isNaN(a)||"number"!=typeof a)return"00:00";var b=parseInt(a,10);a=Math.floor(b/3600);var c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>a&&(a="0"+a);10>c&&(c="0"+c);10>b&&(b="0"+b);return(a+":"+c+":"+b).replace(/^00\:/,"")}function O(){a.controls.progressTime&&f.duration&&(c(e.progressTime).find(".ip-timeDuration").html(I(f.duration)),c(e.progressTime).find("span").show(),
c(e.progressTime).find("span.ip-buffering").hide());a.autoplay&&ipromNS.Utils.bindEvent(f,"canplay",function(){f.play()});f.paused&&(a.autoplay&&!n.mobilecheck()?f.play():c(y).show())}function G(a){window.open(a);n.mute()}ipromNS.version.script.VideoPlayer="0.7";var v=ipromNS.Utils;this.info="iPROM HTML5 video player";this.videoPlayer=null;var ca={target:null,clickThrough:"",width:300,height:250,video:"",splash:!1,bigPlay:!0,infoText:"",startFullScreen:!1,fluidFullScreen:!1,autoplay:!0,smartPlay:!1,
mouseoverStart:!1,loop:!0,stopAfterClick:!0,controls:{play:!0,pause:null,progress:!0,progressTime:!0,mute:!0,unmute:null,fullscreen:!1,contract:null},controlsOptions:{size:20,progressHeight:3,color:"#EEE",colorHover:"#FFF",titles:{play:"Predvajaj",pause:"Ustavi",progress:!0,mute:"Uti\u0161aj",unmute:"Zvok",fullscreen:"Celozaslonski na\u010din",contract:"Skr\u010d\u008di"},hideAfter:3,seekable:!0,progressBarColor:"#1852B3"},sound:{volume:80,onstart:!1,mouseover:!0},buttons:{replay:!0,facebook:!1,youtube:!1,
landing:!0},buttonsOptions:{size:80,color:"#DDD",colorHover:"#FFF"},ipromText:{text:"iPROM video",url:"http://video.iprom.si/",skippable:!1},logOptions:{enabled:!0,name:"vid"},style:{background:"black"},playerEvents:{},vast:{}},a={},x=null,g=null,y=null,C=null,f=null,r=null,t=null,B=null,n=this,p=!1,A=null;u=K=void 0;var D=!1,e={holder:null,play:null,pause:null,mute:null,unmute:null,fullscreen:null,contract:null},k={holder:null,bar:null,button:null,time:null},h={play:!1,pause:!1,unmute:!1,mute:!1,
fullscreen:!1,contract:!1,videoEnd:!1,q1:!1,q2:!1,q3:!1,q4:!1,isPlaying:!1},w={replay:null,facebook:null,youtube:null,landing:null},H={bigPlay:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" style="height: 100%;" viewBox="0 0 50 100"><path d="M0 18.75l50 31.25-50 31.25v-62.5z" fill="[buttonColor]"></path></svg>',play:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" style="height: 100%;" viewBox="0 0 50 100"><path d="M0 18.75l50 31.25-50 31.25v-62.5z" fill="[buttonColor]"></path></svg>',
pause:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 50 100"><path d="M0 81.25h18.75v-62.5h-18.75v62.5zM31.25 18.75v62.5h18.75v-62.5h-18.75z" fill="[buttonColor]"></path></svg>',unmute:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 88 100"><path d="M12.5 37.5h-12.5v25h12.5l25 18.75h6.25v-62.5h-6.25l-25 18.75zM84.375 40.625l-6.25-6.25-9.375 9.375-9.375-9.375-6.152 6.201 9.277 9.424-9.375 9.375 6.25 6.25 9.375-9.375 9.375 9.375 6.25-6.25-9.375-9.375 9.375-9.375z" fill="[buttonColor]"></path></svg>',
mute:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 88 100"><path d="M12.5 37.5h-12.5v25h12.5l25 18.75h6.25v-62.5h-6.25l-25 18.75zM52.589 41.161c-1.22-1.22-3.199-1.22-4.419 0s-1.22 3.199 0 4.419c2.441 2.441 2.441 6.398 0 8.839-1.22 1.22-1.22 3.199 0 4.419s3.199 1.22 4.419 0c4.882-4.882 4.882-12.796 0-17.678zM61.428 32.322c-1.22-1.22-3.199-1.22-4.419 0s-1.22 3.199 0 4.419c7.322 7.322 7.322 19.194 0 26.516-1.22 1.22-1.22 3.199 0 4.42s3.199 1.22 4.419 0c9.763-9.763 9.763-25.592 0-35.355zM70.267 23.483c-1.22-1.22-3.199-1.22-4.419 0s-1.22 3.199 0 4.419c12.204 12.204 12.204 31.99 0 44.194-1.22 1.22-1.22 3.199 0 4.419s3.199 1.22 4.419 0c14.645-14.645 14.645-38.388 0-53.033z" fill="[buttonColor]"></path></svg>',
fullscreen:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 87 100"><path d="M12.5 75h62.488v-50h-62.488v50zM24.994 37.5h37.5v25h-37.5v-25zM6.25 18.756h18.744v-6.25h-24.994v24.994h6.25v-18.744zM6.25 62.5h-6.25v24.994h24.994v-6.244h-18.744v-18.75zM62.494 12.506v6.25h18.744v18.744h6.25v-24.994h-24.994zM81.238 81.25h-18.744v6.244h24.994v-24.994h-6.25v18.75z" fill="[buttonColor]"></path></svg>',contract:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 88 100"><path d="M12.494 18.744h-12.494v6.25h18.744v-18.744h-6.25v12.494zM0 81.256h12.494v12.494h6.25v-18.744h-18.744v6.25zM75.006 18.744v-12.494h-6.25v18.744h18.744v-6.25h-12.494zM68.756 93.75h6.25v-12.494h12.494v-6.25h-18.744v18.744zM18.756 68.75h49.994v-37.5h-49.994v37.5zM31.25 43.75h25v12.5h-25v-12.5z" fill="[buttonColor]"></path></svg>',
replay:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 106 100"><path d="M6.25 37.5h37.5l-14.017-14.017c7.083-7.083 16.5-10.983 26.517-10.983s19.434 3.901 26.517 10.983c7.083 7.083 10.983 16.5 10.983 26.517s-3.901 19.434-10.983 26.517c-7.083 7.083-16.5 10.983-26.517 10.983s-19.434-3.901-26.516-10.984c-0.591-0.591-1.158-1.2-1.705-1.823l-9.406 8.231c9.165 10.465 22.623 17.076 37.627 17.076 27.614 0 50-22.386 50-50s-22.386-50-50-50c-13.807 0-26.305 5.598-35.353 14.647l-14.647-14.647v37.5z" fill="[buttonColor]"></path></svg>',
facebook:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 100 100"><path d="M83.335 0h-66.67c-9.204 0-16.665 7.463-16.665 16.669v66.663c0 9.206 7.461 16.668 16.665 16.668h33.335v-43.75h-12.5v-12.5h12.5v-9.375c0-8.629 6.996-15.625 15.625-15.625h15.625v12.5h-15.625c-1.726 0-3.125 1.399-3.125 3.125v9.375h17.188l-3.125 12.5h-14.063v43.75h20.835c9.204 0 16.665-7.463 16.665-16.668v-66.663c0-9.206-7.461-16.669-16.665-16.669z" fill="[buttonColor]"></path></svg>',
youtube:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 100 100"><path d="M28.632 0l-6.757 13.402-6.757-13.402h-8.618l12.179 21.222 0.071-0.042v16.32h6.25v-16.32l0.071 0.042 12.179-21.222z" fill="[buttonColor]"></path><path d="M46.875 12.5c1.694 0 3.125 1.431 3.125 3.125v12.5c0 1.694-1.431 3.125-3.125 3.125s-3.125-1.431-3.125-3.125v-12.5c0-1.694 1.431-3.125 3.125-3.125zM46.875 6.25c-5.156 0-9.375 4.219-9.375 9.375v12.5c0 5.156 4.219 9.375 9.375 9.375s9.375-4.219 9.375-9.375v-12.5c0-5.156-4.219-9.375-9.375-9.375v0z" fill="[buttonColor]"></path><path d="M75 6.25v24.606c-2.727 2.274-6.25 3.646-6.25-4.456v-20.15h-6.25v21.418h0.009c0.096 5.167 1.186 14.47 12.491 6.905v2.926h6.25v-31.25h-6.25z" fill="[buttonColor]"></path><path d="M84.375 68.75c-1.723 0-3.125 1.402-3.125 3.125v3.125h6.25v-3.125c0-1.723-1.402-3.125-3.125-3.125z" fill="[buttonColor]"></path><path d="M56.25 71.875v16.406c2.116 2.116 6.25 2.344 6.25-0.781s0-11.523 0-14.648-3.125-4.102-6.25-0.977z" fill="[buttonColor]"></path><path d="M99.489 56.791c-0.273-3.6-1.567-6.537-3.885-8.813s-5.281-3.515-8.893-3.719c-6.815-0.34-22.407-0.509-36.105-0.509s-30.4 0.17-37.215 0.509c-3.612 0.204-6.576 1.444-8.893 3.719s-3.612 5.213-3.885 8.813c-0.409 7.336-0.613 9.995-0.613 13.663s0.204 9.169 0.613 16.505c0.273 3.6 1.567 6.537 3.885 8.813s5.281 3.515 8.893 3.719c6.815 0.339 23.517 0.509 37.215 0.509s29.29-0.17 36.105-0.509c3.612-0.204 6.576-1.444 8.893-3.719s3.612-5.213 3.885-8.813c0.341-6.113 0.511-11.615 0.511-16.505s-0.17-7.55-0.511-13.663zM18.75 93.75h-6.25v-31.25h-6.25v-6.25h18.75v6.25h-6.25v31.25zM43.75 93.75h-6.25v-2.926c-11.881 6.669-12.394 0.215-12.491-4.952h-0.009v-17.122h6.25v17.22c0 3.776 3.523 3.411 6.25 1.136v-18.356h6.25v25zM68.75 87.411c0 6.532-6.69 8.438-12.5 3.358v2.981h-6.25v-37.5h6.25v10.156c6.25-6.25 12.5-3.906 12.5 2.344s0 11.833 0 18.661zM93.75 75v3.125h-12.5v6.25c0 1.723 1.402 3.125 3.125 3.125s3.125-1.402 3.125-3.125v-3.125h6.25v3.125c0 5.169-4.206 9.375-9.375 9.375s-9.375-4.206-9.375-9.375v-12.5c0-5.169 4.206-9.375 9.375-9.375s9.375 4.206 9.375 9.375v3.125z" fill="[buttonColor]"></path></svg>',
landing:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="[buttonSize]" height="[buttonSize]" viewBox="0 0 100 100"><path d="M50 0c-27.614 0-50 22.386-50 50s22.386 50 50 50 50-22.386 50-50-22.386-50-50-50zM50 93.75c-6.148 0-11.999-1.271-17.308-3.56l22.768-25.614c0.508-0.572 0.789-1.311 0.789-2.076v-9.375c0-1.726-1.399-3.125-3.125-3.125-11.034 0-22.676-11.471-22.79-11.585-0.586-0.586-1.381-0.915-2.21-0.915h-12.5c-1.726 0-3.125 1.399-3.125 3.125v18.75c0 1.184 0.669 2.266 1.728 2.795l10.772 5.386v18.348c-11.333-7.906-18.75-21.038-18.75-35.905 0-6.71 1.513-13.067 4.213-18.75h11.412c0.829 0 1.624-0.329 2.21-0.915l12.5-12.5c0.586-0.586 0.915-1.381 0.915-2.21v-7.56c3.961-1.179 8.156-1.815 12.5-1.815 6.876 0 13.379 1.588 19.168 4.414-0.405 0.342-0.798 0.7-1.176 1.078-3.542 3.541-5.492 8.25-5.492 13.258s1.95 9.717 5.492 13.258c3.558 3.558 8.322 5.495 13.246 5.494 0.309 0 0.619-0.008 0.929-0.023 1.349 5.059 3.784 18.228-0.821 36.361-0.043 0.17-0.068 0.341-0.082 0.51-7.942 8.113-19.014 13.15-31.264 13.15z" fill="[buttonColor]"></path></svg>'};
this.getEventStatus=function(a){return"undefined"==typeof h[a]?!1:h[a]};this.play=function(d){t&&c(t).remove();if(d)f.play();else{c(y).hide();c(C).hide();c(r).show();if(a.controlsOptions.hideAfter&&!u&&!p){try{top.location.href.match(/iprom_debug\=video/)&&console.log("iprom Video: ","show controls")}catch(b){}N();L()}c(e.play).hide();c(e.pause).show();d=!1===h.play?"start":"play";z()||("start"===d?(f.Start(),f.Sound()):f.Pause());p||q(d,a.logOptions.name);"start"==d&&(h.start=!0);h.play=!0;h.isPlaying=
!0;p=h.pause=!1;"function"==typeof a.playerEvents[d]&&a.playerEvents[d].apply(this)}};this.pause=function(d){clearTimeout(g.hideInterval);try{c(e.pause).hide(),c(e.play).show()}catch(b){}z()||f.Pause();u&&(c(r).hide(),c(y).show());h.isPlaying=!1;if(d)try{p=!0,f.pause()}catch(b){}else!p&&f.currentTime<f.duration&&(q("pause",a.logOptions.name),h.pause=!0),p=!1,"function"==typeof a.playerEvents.pause&&a.playerEvents.pause.call()};this.mute=function(d){c(e.mute).hide();c(e.unmute).show();if(z())try{f.muted=
!0,f.volume=0}catch(b){}else"function"==typeof f.Mute&&f.Mute();!0===d&&q("mute",a.logOptions.name);p=!1;"function"==typeof a.playerEvents.mute&&a.playerEvents.mute.call()};this.unmute=function(){c(e.unmute).hide();c(e.mute).show();if(z()){try{f.muted=!1}catch(d){}try{f.volume=a.sound.volume/100}catch(d){}}else"function"==typeof f.Sound&&f.Sound();p||q("unmute",a.logOptions.name);p=!1;"function"==typeof a.playerEvents.unmute&&a.playerEvents.unmute.call()};this.fullscreen=function(){h.isFullscreen=
!0;c(e.fullscreen).hide();c(e.contract).show();a.beforeFS={width:a.startFullScreen||a.fluidFullScreen?"100%":n.videoPlayer.offsetWidth,height:a.startFullScreen||a.fluidFullScreen?"100%":n.videoPlayer.offsetHeight||n.videoPlayer.parentNode.offsetHeight,position:n.videoPlayer.style.position,zIndex:n.videoPlayer.style.zIndex};if(null===x)c(g).css({width:"100%",height:"100%",position:"fixed",top:0,left:0,zIndex:99999999});else try{g[x.requestFullscreen].call(g),c(g).css({width:"100%",height:"100%",position:"fixed",
top:0,left:0,zIndex:99999999})}catch(d){c(g).css({width:"100%",height:"100%",position:"fixed",top:0,left:0,zIndex:99999999})}p||q("fullscreen",a.logOptions.name);p=!1;"function"==typeof a.playerEvents.fullscreen&&a.playerEvents.fullscreen.call();return!1};this.contract=function(){c(e.contract).hide();c(e.fullscreen).show();h.isFullscreen=!1;x&&document[x.exitFullscreen].call(document);"object"==typeof a.beforeFS?c(g).css(a.beforeFS):c(g).css({width:a.startFullScreen||a.fluidFullScreen?"100%":a.width,
height:a.startFullScreen||a.fluidFullScreen?"100%":a.height,position:"static"});p||q("exitFullscreen",a.logOptions.name);p=!1;n.mute();"function"==typeof a.playerEvents.contract&&a.playerEvents.contract.call();t&&(c(t).remove(),t=M(g))};this.destroy=function(){y&&ipromNS.Utils.removeElement(y);r&&ipromNS.Utils.removeElement(r);C&&ipromNS.Utils.removeElement(C);t&&ipromNS.Utils.removeElement(t);ipromNS.Utils.removeElement(f);ipromNS.Utils.removeElement(g)};this.getDuration=function(){return f.duration};
(function(){Q();R(document);a=v.mergeObjects(ca,P);u&&"Win32"!==navigator.platform&&500>a.width&&(a.controlsOptions.size=20);!u&&(800<a.height||700<J.offsetHeight)&&(a.controlsOptions.size=30);if(a.controls&&a.controls.fullscreen)try{a.controls.fullscreen=window.self===window.top||document.body.offsetWidth>=.8*window.innerWidth}catch(d){a.controls.fullscreen=!1}null===a.controls.pause&&(a.controls.pause=a.controls.play);null===a.controls.unmute&&(a.controls.unmute=a.controls.mute);null===a.controls.contract&&
(a.controls.contract=a.controls.fullscreen);a.controls.infoText=""!=a.infoText;!1===a.controls.play&&!1===a.controls.mute&&!0===a.controls.fullscreen&&(a.controlsOptions.hideAfter=!1,a.controlsOptions.size=30);g=S();C=T(g);y=U(g);f=V(g);r=Z(g);!1!==a.ipromText&&ba();p=!0;a.sound.onstart?n.unmute():n.mute();p=!1;!u&&a.autoplay||c(y).show();!z()&&a.autoplay&&(c(C).hide(),c(r).show());x&&ipromNS.Utils.bindEvent(document,x.fullscreenchange,function(){D&&n.contract();D=!D},!1);a.startFullScreen&&(D=!0,
c(e.fullscreen).hide(),c(e.contract).show());v.bindEvent(window,"resize",function(){A=null;(D||a.fluidFullScreen)&&c(g).css({width:"100%",height:"100%"});t&&(c(t).remove(),t=M(g,!0))});a.controlsOptions.hideAfter&&!u&&(ipromNS.Utils.bindEvents(g,{mouseenter:N,mouseleave:L}),L());n.videoPlayer=g;J&&J.appendChild(g);"function"==typeof a.playerEvents.ready&&a.playerEvents.ready.apply(n)})();this.videoElement=f;return this};
